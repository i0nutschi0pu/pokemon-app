{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../product.service\";\nimport * as i3 from \"@angular/router\";\nfunction CreateProductComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Name is required. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r0.productForm.controls[\"name\"].errors);\n  }\n}\nfunction CreateProductComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Description is required. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27);\n    i0.ɵɵtext(4, \" Description must be have 10 character length. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 27);\n    i0.ɵɵtext(6, \" Description must be have 1000 character length. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r1.productForm.controls[\"desc\"].errors);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !ctx_r1.productForm.controls[\"desc\"].errors);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !ctx_r1.productForm.controls[\"desc\"].errors);\n  }\n}\nfunction CreateProductComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Price is required. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r2.productForm.controls[\"price\"].errors);\n  }\n}\nfunction CreateProductComponent_div_39_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Category is required. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r3.productForm.controls[\"category\"].errors);\n  }\n}\nfunction CreateProductComponent_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Phone is required. \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 27);\n    i0.ɵɵtext(4, \" Phone must be have 10 character length. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r4.productForm.controls[\"phone\"].errors);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"hidden\", !ctx_r4.productForm.controls[\"phone\"].errors);\n  }\n}\nfunction CreateProductComponent_div_49_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Photo is required. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r5.productForm.controls[\"file\"].errors);\n  }\n}\nfunction CreateProductComponent_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Select is required. \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r6.productForm.controls[\"select\"].errors);\n  }\n}\nfunction CreateProductComponent_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\nexport class CreateProductComponent {\n  constructor(fb, productService, router) {\n    this.fb = fb;\n    this.productService = productService;\n    this.router = router;\n    this.session = [];\n    this.cover_photo_for_viewing = '/assets/emptybowl.jpg';\n    this.productForm = this.fb.group({\n      name: ['', Validators.required],\n      desc: ['', Validators.compose([Validators.required, Validators.minLength(10), Validators.maxLength(1000)])],\n      price: ['', Validators.compose([Validators.required])],\n      phone: ['', Validators.compose([Validators.required, Validators.minLength(10), Validators.maxLength(10)])],\n      category: ['', Validators.compose([Validators.required])],\n      select: ['', Validators.compose([Validators.required])],\n      file: ['', Validators.compose([Validators.required])]\n    });\n  }\n  ngOnInit() {}\n  get f() {\n    return this.productForm.controls;\n  }\n  getBase64Image(img) {\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = 100;\n    canvas.height = 80;\n    let ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n      ctx.drawImage(img, 0, 0);\n    }\n    var dataURL = canvas.toDataURL(\"image/png\");\n    return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n  }\n  // on file select event\n  onFileChange(event) {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.productForm.patchValue({\n        fileSource: file\n      });\n    }\n  }\n  saveProduct(values) {\n    const productData = new FormData();\n    productData.append('name', values.name);\n    productData.append('description', values.desc);\n    productData.append('price', values.price);\n    productData.append('fileSource', values.file);\n    // console.log(productData);\n    //  localStorage.clear();\n    let prevEntries = [];\n    let bannerImage = document.getElementById('bannerImg');\n    let imgPath = document.querySelector('input[type=file]');\n    if (imgPath) {\n      imgPath = imgPath;\n    }\n    let imgData = this.getBase64Image(bannerImage);\n    // localStorage.setItem(\"imgData\", imgData);\n    let data = localStorage.getItem('product');\n    // console.log(data);\n    data = JSON.parse(data);\n    // console.log(data);\n    if (data) {\n      data.forEach(item => {\n        // console.log(item['name']);\n        this.session.push({\n          name: item['name'],\n          description: item['description'],\n          price: Number(item['price']),\n          phone: Number(item['phone']),\n          category: item['category'],\n          select: item['select'],\n          file: item['file']\n          //  file: imgData\n        });\n      });\n    }\n\n    this.session.push({\n      name: values.name,\n      description: values.desc,\n      price: values.price,\n      phone: values.phone,\n      category: values.category,\n      select: values.select,\n      //file: values.file\n      file: imgData\n    });\n    localStorage.setItem(\"product\", JSON.stringify(this.session));\n  }\n  resetData() {\n    this.productForm.reset();\n  }\n  addProductClicked() {}\n  coverPhotoPath() {}\n  productPath() {}\n  PhotoUrl(i, event) {}\n  readUrl(event) {\n    if (event.target.files && event.target.files[0]) {\n      const reader = new FileReader();\n      reader.onload = rdr => {\n        this.cover_photo_for_viewing = reader.result;\n      };\n      reader.readAsDataURL(event.target.files[0]);\n      this.cover_photo_for_upload = event.target.files[0];\n    }\n  }\n  static #_ = this.ɵfac = function CreateProductComponent_Factory(t) {\n    return new (t || CreateProductComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ProductService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CreateProductComponent,\n    selectors: [[\"app-create-product\"]],\n    decls: 71,\n    vars: 10,\n    consts: [[1, \"row\", \"gray-bck\"], [1, \"col-lg-8\"], [1, \"col-lg-4\"], [1, \"row\"], [1, \"container-fluid\"], [1, \"col-12\", \"col-lg-12\", \"col-md-12\", \"sol-sm-12\"], [3, \"formGroup\"], [1, \"form-group\"], [\"type\", \"text\", \"placeholder\", \"Enter Name\", \"formControlName\", \"name\", \"required\", \"\", 1, \"form-control\"], [\"class\", \"alert-danger\", 4, \"ngIf\"], [\"type\", \"text\", \"placeholder\", \"Description\", \"formControlName\", \"desc\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"number\", \"placeholder\", \"price\", \"formControlName\", \"price\", \"required\", \"\", 1, \"form-control\"], [\"aria-label\", \"category\", \"formControlName\", \"category\", \"required\", \"\", 1, \"form-select\", \"form-control\"], [\"selected\", \"\"], [\"value\", \"Electronics\"], [\"value\", \"Cloths\"], [\"value\", \"Blankets\"], [\"type\", \"number\", \"placeholder\", \"phone\", \"formControlName\", \"phone\", \"required\", \"\", 1, \"form-control\"], [\"for\", \"file\"], [\"formControlName\", \"file\", \"type\", \"file\", \"required\", \"\", 1, \"form-control\", 3, \"change\"], [\"aria-label\", \"select\", \"formControlName\", \"select\", \"required\", \"\", 1, \"form-select\", \"form-control\"], [\"value\", \"Mobile\"], [\"value\", \"LandLine\"], [\"type\", \"submit\", 1, \"btn\", \"btn-large\", \"btn-success\", 3, \"disabled\", \"click\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [4, \"ngIf\"], [1, \"alert-danger\"], [3, \"hidden\"]],\n    template: function CreateProductComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"app-home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelement(4, \"app-pokemon-search\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3);\n        i0.ɵɵelement(6, \"div\", 2);\n        i0.ɵɵelementStart(7, \"div\", 2)(8, \"div\", 4)(9, \"div\", 3)(10, \"div\", 5)(11, \"form\", 6)(12, \"div\", 7)(13, \"label\");\n        i0.ɵɵtext(14, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(15, \"input\", 8);\n        i0.ɵɵtemplate(16, CreateProductComponent_div_16_Template, 3, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\", 7)(18, \"label\");\n        i0.ɵɵtext(19, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 10);\n        i0.ɵɵtemplate(21, CreateProductComponent_div_21_Template, 7, 3, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"div\", 7)(23, \"label\");\n        i0.ɵɵtext(24, \"Price\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"input\", 11);\n        i0.ɵɵtemplate(26, CreateProductComponent_div_26_Template, 3, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"div\", 7)(28, \"label\");\n        i0.ɵɵtext(29, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"select\", 12)(31, \"option\", 13);\n        i0.ɵɵtext(32, \"Category\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"option\", 14);\n        i0.ɵɵtext(34, \"Electronics\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"option\", 15);\n        i0.ɵɵtext(36, \"Cloths\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(37, \"option\", 16);\n        i0.ɵɵtext(38, \"Blankets\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(39, CreateProductComponent_div_39_Template, 3, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(40, \"div\", 7)(41, \"label\");\n        i0.ɵɵtext(42, \"Phone\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(43, \"input\", 17);\n        i0.ɵɵtemplate(44, CreateProductComponent_div_44_Template, 5, 2, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(45, \"div\", 7)(46, \"label\", 18);\n        i0.ɵɵtext(47, \"File\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"input\", 19);\n        i0.ɵɵlistener(\"change\", function CreateProductComponent_Template_input_change_48_listener($event) {\n          return ctx.onFileChange($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(49, CreateProductComponent_div_49_Template, 3, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(50, \"div\", 7)(51, \"label\");\n        i0.ɵɵtext(52, \"Select\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(53, \"select\", 20)(54, \"option\", 13);\n        i0.ɵɵtext(55, \"Select\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(56, \"option\", 21);\n        i0.ɵɵtext(57, \"Mobile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(58, \"option\", 22);\n        i0.ɵɵtext(59, \"LandLine\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(60, CreateProductComponent_div_60_Template, 3, 1, \"div\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"div\", 3)(62, \"div\", 2)(63, \"button\", 23);\n        i0.ɵɵlistener(\"click\", function CreateProductComponent_Template_button_click_63_listener() {\n          return ctx.saveProduct(ctx.productForm.value);\n        });\n        i0.ɵɵtext(64, \"Save\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(65, \"div\", 2);\n        i0.ɵɵelementStart(66, \"div\", 2)(67, \"button\", 24);\n        i0.ɵɵlistener(\"click\", function CreateProductComponent_Template_button_click_67_listener() {\n          return ctx.resetData();\n        });\n        i0.ɵɵtext(68, \"Reset\");\n        i0.ɵɵelementEnd()()()()()()();\n        i0.ɵɵtemplate(69, CreateProductComponent_div_69_Template, 1, 0, \"div\", 25);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(70, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"formGroup\", ctx.productForm);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"name\"].valid && ctx.productForm.controls[\"name\"].touched);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"desc\"].valid && ctx.productForm.controls[\"desc\"].touched);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"price\"].valid && ctx.productForm.controls[\"price\"].touched);\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"category\"].valid && ctx.productForm.controls[\"category\"].touched);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"phone\"].valid && ctx.productForm.controls[\"phone\"].touched);\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"file\"].valid && ctx.productForm.controls[\"file\"].touched);\n        i0.ɵɵadvance(11);\n        i0.ɵɵproperty(\"ngIf\", !ctx.productForm.controls[\"select\"].valid && ctx.productForm.controls[\"select\"].touched);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"disabled\", !ctx.productForm.valid);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngIf\", ctx.session);\n      }\n    },\n    styles: [\".gray-bck[_ngcontent-%COMP%] {\\n    background-color: #333 !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9jcmVhdGUtcHJvZHVjdC9jcmVhdGUtcHJvZHVjdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksaUNBQWlDO0FBQ3JDIiwic291cmNlc0NvbnRlbnQiOlsiLmdyYXktYmNrIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzICFpbXBvcnRhbnQ7XG59XG5cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","CreateProductComponent","constructor","fb","productService","router","productForm","group","name","required","desc","compose","minLength","maxLength","price","phone","category","select","file","ngOnInit","f","controls","getBase64Image","img","canvas","document","createElement","width","height","ctx","getContext","drawImage","dataURL","toDataURL","replace","onFileChange","event","target","files","length","patchValue","fileSource","saveProduct","values","productData","FormData","append","prevEntries","bannerImage","getElementById","imgPath","querySelector","imgData","data","localStorage","getItem","JSON","parse","forEach","item","session","push","description","Number","setItem","stringify","resetData","reset","addProductClicked","coverPhotoPath","productPath","PhotoUrl","i","readUrl","reader","FileReader","onload","rdr","cover_photo_for_viewing","result","readAsDataURL","cover_photo_for_upload","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/ionut/pokemon_app/src/app/components/create-product/create-product.component.ts","/Users/ionut/pokemon_app/src/app/components/create-product/create-product.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Product } from '../../product.model';\nimport { ProductService } from '../../product.service';\n\n@Component({\n  selector: 'app-create-product',\n  templateUrl: './create-product.component.html',\n  styleUrls: ['./create-product.component.css']\n})\nexport class CreateProductComponent implements OnInit {\n\n  product!: Product;\n  load_error!: boolean;\n  productForm: FormGroup;\n  session: { \n    name: string; \n    description: string, \n    price: number, \n    phone: number,\n    category: string,\n    select: string,\n    file: string\n  }[] = [];\n\n  cover_photo_for_viewing: any = '/assets/emptybowl.jpg';\n  cover_photo_for_upload!: File;\n\n  constructor(\n      private fb: FormBuilder,\n      private productService: ProductService,\n      private router: Router) {\n    this.productForm = this.fb.group({\n      name: ['', Validators.required],\n      desc: ['', Validators.compose([Validators.required, Validators.minLength(10), Validators.maxLength(1000)])],\n      price: ['', Validators.compose([Validators.required])],\n      phone: ['', Validators.compose([Validators.required, Validators.minLength(10), Validators.maxLength(10)])],\n      category: ['', Validators.compose([Validators.required])],\n      select: ['', Validators.compose([Validators.required])],\n      file: ['', Validators.compose([Validators.required])],\n    });\n  }\n\n  ngOnInit() {\n  }\n\n  get f() {\n    return this.productForm.controls;\n  }\n\n  getBase64Image(img: any) \n  {\n    var canvas = document.createElement(\"canvas\");\n    canvas.width = 100;\n    canvas.height = 80;\n\n    let ctx = canvas.getContext(\"2d\");\n    if(ctx){\n      ctx.drawImage(img, 0, 0);\n    }\n    \n    var dataURL = canvas.toDataURL(\"image/png\");\n\n    return dataURL.replace(/^data:image\\/(png|jpg);base64,/, \"\");\n  }\n\n  // on file select event\n  onFileChange(event: any) {\n    if (event.target.files.length > 0) {\n      const file = event.target.files[0];\n      this.productForm.patchValue({\n        fileSource: file\n      });\n    }\n  }\n\n  saveProduct(values: any): void{\n    const productData = new FormData();\n    productData.append('name', values.name);\n    productData.append('description', values.desc);\n    productData.append('price', values.price);\n    productData.append('fileSource', values.file);\n   // console.log(productData);\n  //  localStorage.clear();\n\n    let prevEntries: { \n      name: string; \n      description: string; \n      price: number;\n      phone: number,\n      category: string,\n      select: string, \n      file: string\n    }[] = [];\n\n    let bannerImage = document.getElementById('bannerImg');\n    let imgPath = document.querySelector('input[type=file]');\n    if(imgPath){\n      imgPath = imgPath;\n    }\n\n    let imgData = this.getBase64Image(bannerImage);\n   // localStorage.setItem(\"imgData\", imgData);\n\n\n    let data: any = localStorage.getItem('product');\n   // console.log(data);\n    data = JSON.parse(data);\n   // console.log(data);\n\n    if(data) {\n      data.forEach((item: { [x: string]: string; }) => {\n       // console.log(item['name']);\n        this.session.push(\n          {\n            name: item['name'],\n            description: item['description'],\n            price: Number(item['price']),\n            phone: Number(item['phone']),\n            category: item['category'],\n            select: item['select'],\n            file: item['file']\n          //  file: imgData\n          }\n        );\n    });\n    }\n\n    this.session.push(\n      {\n          name: values.name,\n          description: values.desc,\n          price: values.price,\n          phone: values.phone,\n          category: values.category,\n          select: values.select,\n          //file: values.file\n          file: imgData\n      }\n  );\n\n    localStorage.setItem(\"product\", JSON.stringify(this.session));\n  }\n\n  resetData() {\n    this.productForm.reset();\n  }\n\n  addProductClicked(): void {\n\n  }\n\n  coverPhotoPath() {\n  }\n\n  productPath() {\n  }\n\n  PhotoUrl(i: number, event: any): void {\n  }\n\n  readUrl(event: any): void \n  {\n    if (event.target.files && event.target.files[0]) {\n      const reader = new FileReader();\n\n      reader.onload = (rdr) => {\n        this.cover_photo_for_viewing = reader.result;\n      };\n\n      reader.readAsDataURL(event.target.files[0]);\n      this.cover_photo_for_upload = event.target.files[0];\n    }\n  }\n\n}\n","<div class=\"row gray-bck\">\n    <div class=\"col-lg-8\">\n      <app-home></app-home>\n    </div>\n    <div class=\"col-lg-4\">\n      <app-pokemon-search></app-pokemon-search>\n    </div>\n</div>\n<div class=\"row\">\n    <div class=\"col-lg-4\"></div>\n    <div class=\"col-lg-4\">\n        <div class=\"container-fluid\">\n            <div class=\"row\">\n              <div class=\"col-12 col-lg-12 col-md-12 sol-sm-12\">\n                <form [formGroup]=\"productForm\">\n                  <div class=\"form-group\">\n                    <label>Name</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter Name\" formControlName=\"name\" required>\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['name'].valid && (productForm.controls['name'].touched)\">\n                      <div [hidden]=\"!productForm.controls['name'].errors\">\n                        Name is required.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Description</label>\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Description\" formControlName=\"desc\" required>\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['desc'].valid && (productForm.controls['desc'].touched)\">\n                      <div [hidden]=\"!productForm.controls['desc'].errors\">\n                        Description is required.\n                      </div>\n                      <div [hidden]=\"!productForm.controls['desc'].errors\">\n                        Description must be have 10 character length.\n                      </div>\n                      <div [hidden]=\"!productForm.controls['desc'].errors\">\n                        Description must be have 1000 character length.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Price</label>\n                    <input type=\"number\" class=\"form-control\" placeholder=\"price\" formControlName=\"price\" required>\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['price'].valid && (productForm.controls['price'].touched)\">\n                      <div [hidden]=\"!productForm.controls['price'].errors\">\n                        Price is required.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Category</label>\n                    <select class=\"form-select form-control\" aria-label=\"category\" formControlName=\"category\" required>\n                        <option selected>Category</option>\n                        <option value=\"Electronics\">Electronics</option>\n                        <option value=\"Cloths\">Cloths</option>\n                        <option value=\"Blankets\">Blankets</option>\n                      </select>\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['category'].valid && (productForm.controls['category'].touched)\">\n                      <div [hidden]=\"!productForm.controls['category'].errors\">\n                        Category is required.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Phone</label>\n                    <input type=\"number\" class=\"form-control\" placeholder=\"phone\" formControlName=\"phone\" required>\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['phone'].valid && (productForm.controls['phone'].touched)\">\n                      <div [hidden]=\"!productForm.controls['phone'].errors\">\n                        Phone is required.\n                      </div>\n                      <div [hidden]=\"!productForm.controls['phone'].errors\">\n                        Phone must be have 10 character length.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group\">\n                    <label for=\"file\">File</label>\n                    <input formControlName=\"file\" type=\"file\" class=\"form-control\" (change)=\"onFileChange($event)\"  required>\n                 <!--    <small class=\"form-text text-danger\" *ngIf=\"f.file.errors.required\"> \n                        Name is required</small>\n                 -->\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['file'].valid && (productForm.controls['file'].touched)\">\n                      <div [hidden]=\"!productForm.controls['file'].errors\">\n                        Photo is required.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"form-group\">\n                    <label>Select</label>\n                    <select class=\"form-select form-control\" aria-label=\"select\" formControlName=\"select\" required>\n                        <option selected>Select</option>\n                        <option value=\"Mobile\">Mobile</option>\n                        <option value=\"LandLine\">LandLine</option>\n                      </select>\n                    <div class=\"alert-danger\" *ngIf=\"!productForm.controls['select'].valid && (productForm.controls['select'].touched)\">\n                      <div [hidden]=\"!productForm.controls['select'].errors\">\n                        Select is required.\n                      </div>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div class=\"col-lg-4\">\n                        <button  (click)=\"saveProduct(productForm.value)\" type=\"submit\" class=\"btn btn-large btn-success\" [disabled]=\"!productForm.valid\">Save</button>\n                    </div>\n                    <div class=\"col-lg-4\">\n               <!--          <button (click)=\"loadData()\" class=\"btn btn-success\" >Load data</button> -->\n                    </div>\n                    <div class=\"col-lg-4\">\n                        <button (click)=\"resetData()\" class=\"btn btn-primary\" >Reset</button>\n                    </div>\n                  </div>\n                  \n                </form>\n              </div>\n            </div>\n          </div>\n          <div *ngIf=\"session\">\n         <!--   {{session | json}} -->\n          <!--   <h1>name: {{session.name}} </h1> -->\n          </div>\n    </div>\n    <div class=\"col-lg-4\"></div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}