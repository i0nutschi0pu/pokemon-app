{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../pokemon-crud.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../home/home.component\";\nimport * as i5 from \"../pokemon-search/pokemon-search.component\";\nfunction DetailsComponent_div_5_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"h3\", 2);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const type_r4 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵstyleMapInterpolate1(\"background-color: \", ctx_r1.pokemonColor, \";\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(3, 4, type_r4.name), \" \");\n  }\n}\nfunction DetailsComponent_div_5_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12)(1, \"div\", 5)(2, \"div\", 2);\n    i0.ɵɵelement(3, \"img\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 2)(5, \"h3\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 15)(8, \"div\", 16)(9, \"div\", 17);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const statistics_r5 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\"\", statistics_r5.name, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵattributeInterpolate1(\"style\", \"width: \", statistics_r5.base_stat, \"%;\", i0.ɵɵsanitizeStyle)(\"aria-valuenow\", \" \", statistics_r5.base_stat, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", statistics_r5.base_stat, \"%\");\n  }\n}\nfunction DetailsComponent_div_5_span_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 12)(1, \"div\", 18);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ability_r6 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ability_r6.name, \" - \");\n  }\n}\nfunction DetailsComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"h2\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 5);\n    i0.ɵɵelement(5, \"div\", 2);\n    i0.ɵɵtemplate(6, DetailsComponent_div_5_div_6_Template, 4, 6, \"div\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵelement(8, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, DetailsComponent_div_5_div_9_Template, 11, 4, \"div\", 8);\n    i0.ɵɵelementStart(10, \"h4\", 9);\n    i0.ɵɵtext(11, \"Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"h2\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"div\", 5)(15, \"div\", 10)(16, \"h6\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"h6\");\n    i0.ɵɵtext(19, \"Catch rate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"h6\");\n    i0.ɵɵtext(21, \"Egg groups\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"h6\");\n    i0.ɵɵtext(23, \"Abilities: \");\n    i0.ɵɵtemplate(24, DetailsComponent_div_5_span_24_Template, 3, 1, \"span\", 8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 10)(26, \"h6\");\n    i0.ɵɵtext(27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"h6\");\n    i0.ɵɵtext(29, \"Gender ration\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"h6\");\n    i0.ɵɵtext(31, \"Hatch steps\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"h6\");\n    i0.ɵɵtext(33, \"EVs\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(34, \"h4\", 9);\n    i0.ɵɵtext(35, \"Evolutions\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(36, \"h4\", 9);\n    i0.ɵɵtext(37, \"Damage when attacked\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"button\", 11);\n    i0.ɵɵlistener(\"click\", function DetailsComponent_div_5_Template_button_click_38_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.goBack());\n    });\n    i0.ɵɵtext(39, \"go back\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMapInterpolate1(\"background-color: \", ctx_r0.pokemonColor, \";\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 20, ctx_r0.pokemon.name));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pokemonTypes);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.pokemonImg, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pokemonStatistics);\n    i0.ɵɵadvance(1);\n    i0.ɵɵstyleMapInterpolate1(\"background-color: \", ctx_r0.pokemonColor, \";\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.pokemonType, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"Height: \", ctx_r0.pokemon.height, \"\");\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.pokemonAbs);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"Weight: \", ctx_r0.pokemon.weight, \" \");\n    i0.ɵɵadvance(7);\n    i0.ɵɵstyleMapInterpolate1(\"background-color: \", ctx_r0.pokemonColor, \";\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵstyleMapInterpolate1(\"background-color: \", ctx_r0.pokemonColor, \";\");\n  }\n}\nexport class DetailsComponent {\n  constructor(route, pokemonService, location) {\n    this.route = route;\n    this.pokemonService = pokemonService;\n    this.location = location;\n    this.pokemonAbs = [];\n    this.pokeAb = {};\n    this.pokemonTypes = [];\n    this.pokemonStatistics = [];\n  }\n  ngOnInit() {\n    this.getPokemon();\n    this.getPokemonAbilities();\n    this.getPokCol(this.getPokemonType());\n    this.getPokemonStatistics();\n  }\n  getPokemon() {\n    const id = parseInt(this.route.snapshot.paramMap.get('id'), 10);\n    this.pokemonService.getPokemon(id).subscribe(pokemon => {\n      this.pokemon = pokemon;\n      // console.log(pokemon)\n    });\n  }\n\n  getPokemonStatistics() {\n    const id = parseInt(this.route.snapshot.paramMap.get('id'), 10);\n    this.pokemonService.getPokemon(id).subscribe(pokemon => {\n      this.pokemonImg = String(pokemon.sprites.back_default);\n      pokemon.stats.forEach(items => {\n        for (const [key, value] of Object.entries(items['stat'])) {\n          if (key === 'name') {\n            this.pokemonStatistics.push({\n              name: String(value),\n              base_stat: Number(items['base_stat'])\n            });\n          }\n        }\n      });\n    });\n  }\n  getPokemonAbilities() {\n    const id = parseInt(this.route.snapshot.paramMap.get('id'), 10);\n    this.pokemonService.getPokemon(id).subscribe(pokemon => {\n      pokemon.abilities.forEach(items => {\n        for (const [key, value] of Object.entries(items['ability'])) {\n          if (key === 'name') {\n            this.pokemonAbs.push({\n              name: String(value)\n            });\n          }\n        }\n      });\n    });\n  }\n  getPokCol(type) {\n    if (type === '') {\n      return '';\n    }\n    let colors = ['aqua', 'black', 'blue', 'fuchsia', 'gray', 'green', 'lime', 'maroon', 'navy', 'olive', 'orange', 'purple', 'red', 'silver', 'teal', 'white', 'yellow', 'brown', 'magenta', 'kaki'];\n    this.pokemonService.getPokemonColor('grass').subscribe(data => {\n      let color = '';\n      data.results.forEach(item2 => {\n        if (item2.name === type) {\n          this.pokemonColor = colors[Math.floor(Math.random() * colors.length)];\n        }\n      });\n    });\n  }\n  getPokemonType() {\n    const id = parseInt(this.route.snapshot.paramMap.get('id'), 10);\n    /*\n       I declared this default type in order to show the functionality, although\n       I could also check in the template if type type exists in the array of types and then assgin\n       a random color;\n    */\n    let type = 'poison';\n    this.pokemonService.getPokemon(id).subscribe(pokemon => {\n      pokemon.types.forEach(items => {\n        this.pokemonTypes.push({\n          name: items.type.name\n        });\n        type = items.type.name;\n        return type;\n      });\n    });\n    return type;\n  }\n  goBack() {\n    this.location.back();\n  }\n  static #_ = this.ɵfac = function DetailsComponent_Factory(t) {\n    return new (t || DetailsComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PokemonCRUDService), i0.ɵɵdirectiveInject(i3.Location));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: DetailsComponent,\n    selectors: [[\"app-details\"]],\n    decls: 6,\n    vars: 1,\n    consts: [[\"id\", \"pokemon-details\", 1, \"row\", \"gray-bck\"], [1, \"col-lg-8\"], [1, \"col-lg-4\"], [4, \"ngIf\"], [1, \"text-center\"], [1, \"row\"], [\"class\", \"box\", 3, \"style\", 4, \"ngFor\", \"ngForOf\"], [1, \"imgWH\", 3, \"src\"], [\"class\", \"box\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-left\"], [1, \"col-lg-6\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"box\"], [\"src\", \"\"], [1, \"\"], [1, \"col-lg-3\"], [1, \"progress\"], [\"role\", \"progressbar\", \"aria-valuemin\", \"0\", \"aria-valuemax\", \"100\", 1, \"progress-bar\", \"bg-success\"], [\"id\", \"container\", 1, \"center-display\"]],\n    template: function DetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n        i0.ɵɵelement(2, \"app-home\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2);\n        i0.ɵɵelement(4, \"app-pokemon-search\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(5, DetailsComponent_div_5_Template, 40, 22, \"div\", 3);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngIf\", ctx.pokemon);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.HomeComponent, i5.PokemonSearchComponent, i3.UpperCasePipe],\n    styles: [\".grass[_ngcontent-%COMP%] {\\n    background-color: red;\\n}\\n\\n.imgWH[_ngcontent-%COMP%]{\\n    width:200px; height:100px;\\n}\\n\\n.center-display[_ngcontent-%COMP%]{\\n    width: 60%; margin: 0 auto; display: inline;\\n}\\n\\n#pokemon-details[_ngcontent-%COMP%]{\\n    background-color: #333 !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9kZXRhaWxzL2RldGFpbHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLFdBQVcsRUFBRSxZQUFZO0FBQzdCOztBQUVBO0lBQ0ksVUFBVSxFQUFFLGNBQWMsRUFBRSxlQUFlO0FBQy9DOztBQUVBO0lBQ0ksaUNBQWlDO0FBQ3JDIiwic291cmNlc0NvbnRlbnQiOlsiLmdyYXNzIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZWQ7XG59XG5cbi5pbWdXSHtcbiAgICB3aWR0aDoyMDBweDsgaGVpZ2h0OjEwMHB4O1xufVxuXG4uY2VudGVyLWRpc3BsYXl7XG4gICAgd2lkdGg6IDYwJTsgbWFyZ2luOiAwIGF1dG87IGRpc3BsYXk6IGlubGluZTtcbn1cblxuI3Bva2Vtb24tZGV0YWlsc3tcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzICFpbXBvcnRhbnQ7XG59Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["i0","DetailsComponent","constructor","route","pokemonService","location","ngOnInit","getPokemon","getPokemonAbilities","getPokCol","getPokemonType","getPokemonStatistics","id","parseInt","snapshot","paramMap","get","subscribe","pokemon","pokemonImg","String","sprites","back_default","stats","forEach","items","key","value","Object","entries","pokemonStatistics","push","name","base_stat","Number","abilities","pokemonAbs","type","colors","getPokemonColor","data","color","results","item2","pokemonColor","Math","floor","random","length","types","pokemonTypes","goBack","back","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/ionut/pokemon_app/src/app/components/details/details.component.html","/Users/ionut/pokemon_app/src/app/components/details/details.component.ts"],"sourcesContent":["\n<!-- move inline css to file-->\n<div id=\"pokemon-details\" class=\"row gray-bck\">\n  <div class=\"col-lg-8\">\n    <app-home></app-home>\n  </div>\n  <div class=\"col-lg-4\">\n    <app-pokemon-search></app-pokemon-search>\n  </div>\n</div>\n<div *ngIf=\"pokemon\">\n  <h2 class=\"text-center\" style=\"background-color: {{pokemonColor}};\">{{pokemon.name | uppercase}}</h2>\n  <div class=\"row\">\n    <div class=\"col-lg-4\"></div>\n    <div *ngFor=\"let type of pokemonTypes\" class=\"box\" style=\"background-color: {{pokemonColor}};\">\n      <h3 class=\"col-lg-4\">{{type.name | uppercase }} </h3>\n    </div>\n  </div>\n  <div>\n    <img src=\"{{pokemonImg}}\" class=\"imgWH\" />\n  </div>\n  <div *ngFor=\"let statistics of pokemonStatistics\" class=\"box\">\n    <div class=\"row\">\n      <div class=\"col-lg-4\">\n        <img src=\"\" />\n      </div>\n      <div class=\"col-lg-4\">\n        <h3 class=\"\">{{statistics.name }} </h3>\n      </div>\n      <div class=\"col-lg-3\">\n        <div class=\"progress\">\n          <div class=\"progress-bar bg-success\" role=\"progressbar\" attr.style=\"width: {{statistics.base_stat}}%;\"\n            attr.aria-valuenow=\" {{statistics.base_stat}} \" aria-valuemin=\"0\" aria-valuemax=\"100\">\n            {{statistics.base_stat}}%</div>\n        </div>\n      </div>\n    </div>\n  </div>\n  <h4 class=\"text-left\" style=\"background-color: {{pokemonColor}};\">Profile</h4>\n  <h2> {{pokemonType}} </h2>\n  <div class=\"row\">\n    <div class=\"col-lg-6\">\n      <h6>Height: {{pokemon.height}}</h6>\n      <h6>Catch rate</h6>\n      <h6>Egg groups</h6>\n      <h6>Abilities:\n\n        <span *ngFor=\"let ability of pokemonAbs\" class=\"box\">\n          <div class=\"center-display\" id=\"container\"> {{ability.name}} - </div>\n        </span>\n      </h6>\n    </div>\n    <div class=\"col-lg-6\">\n      <h6>Weight: {{pokemon.weight}} </h6>\n      <h6>Gender ration</h6>\n      <h6>Hatch steps</h6>\n      <h6>EVs</h6>\n    </div>\n  </div>\n  <h4 class=\"text-left\" style=\"background-color: {{pokemonColor}};\">Evolutions</h4>\n  <h4 class=\"text-left\" style=\"background-color: {{pokemonColor}};\">Damage when attacked</h4>\n  <button type=\"button\" class=\"btn btn-primary\" (click)=\"goBack()\">go back</button>","import { Component, OnInit } from '@angular/core';\nimport { Pokemon } from '../../pokemon.model';\nimport { ActivatedRoute } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { PokemonCRUDService } from '../../pokemon-crud.service';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css']\n})\nexport class DetailsComponent implements OnInit {\n\n  pokemon: Pokemon | undefined;\n  pokemonBackgroundColor!: string; \n  pokemonType!: string;\n  test!: number;\n  pokemonAbs: { name: string;}[] = [];\n  pokeAb: any = {};\n  pokemonColor!: string;\n  pokemonTypes: { name: string;}[] = [];\n  pokemonStatistics: { name: string; base_stat: number;}[] = [];\n  pokemonImg!: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private pokemonService: PokemonCRUDService,\n    private location: Location\n  ) {}\n\n  ngOnInit(): void {\n    this.getPokemon();\n    this.getPokemonAbilities();\n    this.getPokCol(this.getPokemonType());\n    this.getPokemonStatistics();\n  }\n\n  getPokemon(): void \n  {\n    const id = parseInt(this.route.snapshot.paramMap.get('id')!, 10);\n\n    this.pokemonService.getPokemon(id)\n      .subscribe( (pokemon) => { \n\n       this.pokemon = pokemon;\n      // console.log(pokemon)\n     });\n  }\n\n  getPokemonStatistics()\n  {\n    const id = parseInt(this.route.snapshot.paramMap.get('id')!, 10);\n\n    this.pokemonService.getPokemon(id)\n      .subscribe( (pokemon) => {\n\n        this.pokemonImg = String(pokemon.sprites.back_default)\n\n       pokemon.stats.forEach(items => {\n            for (const [key, value] of Object.entries(items['stat'])) { \n\n               if(key === 'name'){\n                 this.pokemonStatistics.push(\n                   {\n                     name: String(value),\n                     base_stat: Number(items['base_stat'])\n                   }\n               );\n              }\n              \n            }\n      });\n     });\n  }\n\n  getPokemonAbilities()\n  {\n    const id = parseInt(this.route.snapshot.paramMap.get('id')!, 10);\n\n    this.pokemonService.getPokemon(id)\n      .subscribe( (pokemon) => {\n\n       pokemon.abilities.forEach(items => {\n            for (const [key, value] of Object.entries(items['ability'])) { \n              if(key === 'name'){\n                this.pokemonAbs.push(\n                  {\n                    name: String(value),\n                  }\n              );\n              }\n              \n            }\n      });\n     });\n  }\n\n  getPokCol(type: string)\n  {\n    if(type === ''){\n        return '';\n      }\n\n    let colors = ['aqua', 'black', 'blue', 'fuchsia', 'gray', 'green', \n      'lime', 'maroon', 'navy', 'olive', 'orange', 'purple', 'red', \n      'silver', 'teal', 'white', 'yellow', 'brown', 'magenta', 'kaki'];\n\n    this.pokemonService.getPokemonColor('grass').subscribe((data: { results: any; forEach: (arg0: (data: any) => void) => void; }) => {\n      let color = '';\n\n          data.results.forEach((item2: { name: any; }) => {\n            if(item2.name ===  type){\n              this.pokemonColor = colors[Math.floor(Math.random() * colors.length)];\n            }\n            \n          });\n    });\n  }\n\n\n  getPokemonType(): any\n  {\n    const id = parseInt(this.route.snapshot.paramMap.get('id')!, 10);\n\n    /*\n       I declared this default type in order to show the functionality, although \n       I could also check in the template if type type exists in the array of types and then assgin \n       a random color;\n    */\n\n\n    let type = 'poison';\n\n    this.pokemonService.getPokemon(id)\n      .subscribe( (pokemon)  => {\n\n        pokemon.types.forEach( (items: {type: any}) => {\n          this.pokemonTypes.push(\n                {\n                  name: items.type.name\n                }\n            );\n          type = items.type.name;\n          \n         return type;\n      });\n     });\n\n      return type;\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}