{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { forkJoin } from 'rxjs/internal/observable/forkJoin';\nlet DetailsComponent = class DetailsComponent {\n  constructor(route, pokemonService, location, helperService) {\n    this.route = route;\n    this.pokemonService = pokemonService;\n    this.location = location;\n    this.helperService = helperService;\n    this.pokemonAbilities = [];\n    this.pokemonTypes = [];\n    this.pokemonStatistics = [];\n  }\n  ngOnInit() {\n    this.getPokemon();\n    this.getPokemonAbilities();\n    this.getPokemonStatistics();\n  }\n  getPokemon() {\n    forkJoin([this.pokemonService.getPokemon(this.helperService.getPokemonId(this.route.snapshot.paramMap.get('id'))), this.pokemonService.getPokemonColor()]).subscribe(res => {\n      this.pokemon = res[0];\n      res[0].types.forEach(pokemonTypeName => {\n        this.pokemonTypes.push(res[1].find(e => e.name === pokemonTypeName.type.name));\n      });\n    });\n  }\n  getPokemonStatistics() {\n    this.pokemonService.getPokemon(this.helperService.getPokemonId(this.route.snapshot.paramMap.get('id'))).subscribe(pokemon => {\n      this.pokemonImg = String(pokemon.sprites.front_default);\n      pokemon.stats.forEach(items => {\n        for (const [key, statisticsName] of Object.entries(items['stat'])) {\n          if (key === 'name') {\n            this.pokemonStatistics.push({\n              name: String(statisticsName),\n              base_stat: Number(items['base_stat'])\n            });\n          }\n        }\n      });\n    });\n  }\n  getPokemonAbilities() {\n    this.pokemonService.getPokemon(this.helperService.getPokemonId(this.route.snapshot.paramMap.get('id'))).subscribe(pokemon => {\n      pokemon.abilities.forEach(abilities => {\n        for (const [key, abilitieName] of Object.entries(abilities['ability'])) {\n          if (key === 'name') {\n            this.pokemonAbilities.push({\n              name: String(abilitieName)\n            });\n          }\n        }\n      });\n    });\n  }\n  goBack() {\n    this.location.back();\n  }\n};\nDetailsComponent = __decorate([Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css']\n})], DetailsComponent);\nexport { DetailsComponent };","map":{"version":3,"mappings":"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","names":["Component","forkJoin","DetailsComponent","constructor","route","pokemonService","location","helperService","ngOnInit","getPokemon","getPokemonAbilities","getPokemonStatistics","getPokemonId","snapshot","paramMap","get","getPokemonColor","subscribe","res","pokemon","types","forEach","pokemonTypeName","pokemonTypes","push","find","e","name","type","pokemonImg","String","sprites","front_default","stats","items","key","statisticsName","Object","entries","pokemonStatistics","base_stat","Number","abilities","abilitieName","pokemonAbilities","goBack","back","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/ionut/pokemon_app/src/app/components/pokemons/details/details.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Pokemon } from '../../../model/pokemon.model';\nimport { ActivatedRoute } from '@angular/router';\nimport { Location } from '@angular/common';\nimport { PokemonFilteredSearchService } from 'src/app/service/pokemon-filtered-search.service';\nimport { forkJoin } from 'rxjs/internal/observable/forkJoin';\nimport { HelperService } from 'src/app/service/helper.service';\n\n@Component({\n  selector: 'app-details',\n  templateUrl: './details.component.html',\n  styleUrls: ['./details.component.css']\n})\nexport class DetailsComponent implements OnInit {\n\n  pokemon?: Pokemon;\n  pokemonType?: string;\n  pokemonAbilities: { name: string;}[] = [];\n  pokemonColor?: string;\n  pokemonTypes: { name: string; color: string}[] = [];\n  pokemonStatistics: { name: string; base_stat: number;}[] = [];\n  pokemonImg?: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private pokemonService: PokemonCRUDService,\n    private location: Location,\n    private helperService: HelperService\n  ) {}\n\n  ngOnInit(): void {\n    this.getPokemon();\n    this.getPokemonAbilities();\n    this.getPokemonStatistics();\n  }\n\n  getPokemon(): void \n  {\n\n     forkJoin([\n      this.pokemonService.getPokemon(this.helperService.getPokemonId(this.route.snapshot.paramMap.get('id')!)),\n      this.pokemonService.getPokemonColor(),\n    ]).subscribe((res: any) => {\n        this.pokemon = res[0];\n\n        res[0].types.forEach((pokemonTypeName: {type: {name: string}}) =>{\n          this.pokemonTypes.push(\n            res[1].find((e: { name: string; }) => e.name === pokemonTypeName.type.name)\n          );\n\n      });\n      });\n  }\n\n  getPokemonStatistics()\n  {\n\n    this.pokemonService.getPokemon(this.helperService.getPokemonId(this.route.snapshot.paramMap.get('id')!))\n      .subscribe( (pokemon) => {\n\n        this.pokemonImg = String(pokemon.sprites.front_default);\n\n        pokemon.stats.forEach(items => {\n            for (const [key, statisticsName] of Object.entries(items['stat'])) { \n\n               if(key === 'name'){\n                 this.pokemonStatistics.push(\n                   {\n                     name: String(statisticsName),\n                     base_stat: Number(items['base_stat'])\n                   }\n               );\n              }\n            }\n        });\n     });\n  }\n\n  getPokemonAbilities()\n  {\n    this.pokemonService.getPokemon(this.helperService.getPokemonId(this.route.snapshot.paramMap.get('id')!))\n      .subscribe( (pokemon) => {\n\n       pokemon.abilities.forEach(abilities => {\n          for (const [key, abilitieName] of Object.entries(abilities['ability'])) { \n            if(key === 'name'){\n              this.pokemonAbilities.push(\n                {\n                  name: String(abilitieName),\n                }\n            );\n            }\n          }\n      });\n     });\n  }\n\n  goBack(): void {\n    this.location.back();\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}